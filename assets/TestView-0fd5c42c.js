import{d as T,q as S,t as z,f as _,v as G,o as a,c,a as s,x as d,j as $,i as g,y as W,g as k,F as b,z as H,b as U,h as P,w as O,n as A,A as J,k as X,l as q,B as Y,C as Z,_ as D,D as Q,O as K,s as M,m as x,r as ee,u as te,E as V,G as ne,H as se}from"./index-8e17f000.js";import{a as E,e as I,b as le,l as oe}from"./subjects-a920562c.js";import{s as ae}from"./index.esm-fe18ca3d.js";const F=e=>(Y("data-v-0afa13d5"),e=e(),Z(),e),re={class:"grid"},ue={class:"col"},ie=F(()=>s("span",null,"Verb: ",-1)),ce={class:"originalKana"},de=F(()=>s("span",null,"Form: ",-1)),pe=F(()=>s("span",null,"Politeness: ",-1)),ve=F(()=>s("span",null,null,-1)),fe=F(()=>s("span",null,"Positivitiy: ",-1)),ye={class:"grid"},he={class:"col"},me={class:"correctAnswer"},_e={class:"grid"},be={class:"col"},ge=T({__name:"Question",props:{question:{type:null},type:{type:null}},emits:{next:null},setup(e,{emit:t}){const l=e,n=E(),r=S(""),i=S(!1),p=S(null),v=S(!1);z(()=>{});const f=_(()=>n.getQuestion(l.question,l.type)),h=_(()=>f.value.path.split("."));function m(){v.value=r==f.value.kana||r==f.value.kanji,i.value=!0,n.updateAnswer({path:f.value.path,answer:v.value?I.Correct:I.Incorrect})}function w(){i.value?t("next",v.value?I.Correct:I.Incorrect):m()}return G(()=>l.question,(y,u)=>{r.value="",i.value=!1}),(y,u)=>(a(),c(b,null,[s("div",re,[s("div",ue,[s("ul",null,[s("li",null,[ie,s("span",null,d(h.value[0]),1),s("span",ce," ("+d(f.value.originalKana)+")",1)]),s("li",null,[de,s("span",null,d(h.value[1]),1)]),s("li",null,[pe,$(d(h.value[2]),1),ve]),s("li",null,[fe,s("span",null,d(h.value[3]),1)])])])]),s("div",ye,[s("div",he,[g(k(X),{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=o=>r.value=o),ref_key:"input",ref:p,onKeyup:[W(w,["enter"]),u[1]||(u[1]=o=>r.value=k(J)(r.value))]},null,8,["modelValue","onKeyup"]),i.value?(a(),c(b,{key:0},[s("span",{class:H(v.value?"correct":"incorrect")},d(v.value?"Correct":"Incorrect"),3),s("span",me," - "+d(f.value.kanji)+" ("+d(f.value.kana)+")",1)],64)):U("",!0)])]),s("div",_e,[s("div",be,[i.value?(a(),P(k(q),{key:1,onClick:u[2]||(u[2]=A(o=>y.$emit("next",!0),["prevent"]))},{default:O(()=>[$("Next")]),_:1})):(a(),P(k(q),{key:0,onClick:A(m,["prevent"])},{default:O(()=>[$("Submit")]),_:1},8,["onClick"])),g(k(q),{onClick:u[3]||(u[3]=A(o=>y.$emit("early-finish",!0),["prevent"]))},{default:O(()=>[$("Done")]),_:1})])])],64))}});const ke=D(ge,[["__scopeId","data-v-0afa13d5"]]),Se=T({__name:"HoverHelp",props:{title:{type:String},body:{type:String}},setup(e){const t=_(()=>globalThis._uid);return(l,n)=>{const r=Q("font-awesome-icon"),i=Q("b-popover");return a(),c("div",null,[g(r,{icon:"circle-question",id:t.value+"help"},null,8,["id"]),g(i,{target:t.value+"help",triggers:"hover",placement:"top"},{title:O(()=>[$(d(e.title),1)]),default:O(()=>[s("span",null,d(e.body),1)]),_:1},8,["target"])])}}});var $e={root:function(t){var l=t.instance,n=t.props;return["p-checkbox p-component",{"p-checkbox-checked":l.checked,"p-checkbox-disabled":n.disabled,"p-checkbox-focused":l.focused}]},input:function(t){var l=t.instance,n=t.props;return["p-checkbox-box",{"p-highlight":l.checked,"p-disabled":n.disabled,"p-focus":l.focused}]},icon:"p-checkbox-icon"},Oe={name:"BaseCheckbox",extends:M,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},css:{classes:$e},provide:function(){return{$parentInstance:this}}};function we(e){return Pe(e)||Ve(e)||Ie(e)||Ce()}function Ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ie(e,t){if(e){if(typeof e=="string")return N(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return N(e,t)}}function Ve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pe(e){if(Array.isArray(e))return N(e)}function N(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,n=new Array(t);l<t;l++)n[l]=e[l];return n}var j={name:"Checkbox",extends:Oe,emits:["click","update:modelValue","change","input","focus","blur"],data:function(){return{focused:!1}},methods:{getPTOptions:function(t){return this.ptm(t,{context:{checked:this.checked,focused:this.focused,disabled:this.disabled}})},onClick:function(t){var l=this;if(!this.disabled&&!this.readonly){var n;this.binary?n=this.checked?this.falseValue:this.trueValue:this.checked?n=this.modelValue.filter(function(r){return!K.equals(r,l.value)}):n=this.modelValue?[].concat(we(this.modelValue),[this.value]):[this.value],this.$emit("click",t),this.$emit("update:modelValue",n),this.$emit("change",t),this.$emit("input",n),this.$refs.input.focus()}},onFocus:function(t){this.focused=!0,this.$emit("focus",t)},onBlur:function(t){this.focused=!1,this.$emit("blur",t)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:K.contains(this.value,this.modelValue)}},components:{CheckIcon:ae}};function B(e){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(e)}function L(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),l.push.apply(l,n)}return l}function R(e){for(var t=1;t<arguments.length;t++){var l=arguments[t]!=null?arguments[t]:{};t%2?L(Object(l),!0).forEach(function(n){xe(e,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):L(Object(l)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))})}return e}function xe(e,t,l){return t=je(t),t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function je(e){var t=Ae(e,"string");return B(t)==="symbol"?t:String(t)}function Ae(e,t){if(B(e)!=="object"||e===null)return e;var l=e[Symbol.toPrimitive];if(l!==void 0){var n=l.call(e,t||"default");if(B(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qe=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label"],Be=["data-p-highlight","data-p-disabled","data-p-focused"];function Te(e,t,l,n,r,i){var p=Q("CheckIcon");return a(),c("div",x({class:e.cx("root"),onClick:t[2]||(t[2]=function(v){return i.onClick(v)})},i.getPTOptions("root"),{"data-pc-name":"checkbox"}),[s("div",x({class:"p-hidden-accessible"},e.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[s("input",x({ref:"input",id:e.inputId,type:"checkbox",value:e.value,name:e.name,checked:i.checked,tabindex:e.tabindex,disabled:e.disabled,readonly:e.readonly,required:e.required,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=function(v){return i.onFocus(v)}),onBlur:t[1]||(t[1]=function(v){return i.onBlur(v)})},e.ptm("hiddenInput")),null,16,qe)],16),s("div",x({ref:"box",class:[e.cx("input"),e.inputClass],style:e.inputStyle},R(R({},e.inputProps),i.getPTOptions("input")),{"data-p-highlight":i.checked,"data-p-disabled":e.disabled,"data-p-focused":r.focused}),[ee(e.$slots,"icon",{checked:i.checked,class:H(e.cx("icon"))},function(){return[i.checked?(a(),P(p,x({key:0,class:e.cx("icon")},i.getPTOptions("icon")),null,16,["class"])):U("",!0)]})],16,Be)],16)}j.render=Te;const Fe=ne('<div class="grid" data-v-170874e7><div class="col" data-v-170874e7><span data-v-170874e7>Levels</span></div><div class="col" data-v-170874e7><span data-v-170874e7>Positivitiy</span></div><div class="col" data-v-170874e7><span data-v-170874e7>Politeness</span></div><div class="col" data-v-170874e7><span data-v-170874e7>Form</span></div></div>',1),Ue={class:"grid"},Qe={class:"col-3 options"},Ne=["for"],De={class:"col-3 options"},Ee=["for"],Ke={class:"col-3 options"},Le=["for"],Re={class:"col-3 options"},He=["for"],ze={class:"grid"},Ge={class:"col btns"},We=T({__name:"Options",props:{type:{type:null}},emits:{optionsSet:null},setup(e,{emit:t}){const l=e,n=le(),r=te();S(null);async function i(){t("optionsSet",!0)}const p=_(()=>l.type=="verb"?n.verbOptions:n.adjectiveOptions),v=_(()=>r.levels),f=_({get(){return n.selected.positivity},set(y){n.updateSelectedPositivity(y)}}),h=_({get(){return n.selected.politeness},set(y){n.updateSelectedPoliteness(y)}}),m=_({get(){return n.selected.form},set(y){n.updateSelectedForm(y)}}),w=_({get(){return n.selected.levels},set(y){n.updateSelectedLevels(y)}});return(y,u)=>(a(),c(b,null,[Fe,s("div",Ue,[s("div",Qe,[(a(!0),c(b,null,V(v.value,o=>(a(),c("div",{key:o},[g(k(j),{modelValue:w.value,"onUpdate:modelValue":u[0]||(u[0]=C=>w.value=C),inputId:"level"+o,name:o.toString(),value:o},null,8,["modelValue","inputId","name","value"]),s("label",{for:"level"+o},d(o),9,Ne)]))),128))]),s("div",De,[(a(!0),c(b,null,V(p.value.positivity,o=>(a(),c("div",{key:o.text},[g(k(j),{modelValue:f.value,"onUpdate:modelValue":u[1]||(u[1]=C=>f.value=C),inputId:"positivity"+o,name:o.text,value:o.value},null,8,["modelValue","inputId","name","value"]),s("label",{for:"positivity"+o},d(o.text),9,Ee)]))),128))]),s("div",Ke,[(a(!0),c(b,null,V(p.value.politeness,o=>(a(),c("div",null,[g(k(j),{modelValue:h.value,"onUpdate:modelValue":u[2]||(u[2]=C=>h.value=C),inputId:"politeness"+o,name:o.text,value:o.value},null,8,["modelValue","inputId","name","value"]),s("label",{for:"politeness"+o},d(o.text),9,Le)]))),256))]),s("div",Re,[(a(!0),c(b,null,V(p.value.form,o=>(a(),c("div",null,[g(k(j),{modelValue:m.value,"onUpdate:modelValue":u[3]||(u[3]=C=>m.value=C),inputId:"form"+o,name:o.text,value:o.value},null,8,["modelValue","inputId","name","value"]),s("label",{for:"form"+o},[$(d(o.text),1),g(Se,{title:o.text,body:o.help},null,8,["title","body"])],8,He)]))),256))])]),s("div",ze,[s("div",Ge,[g(k(q),{onClick:A(i,["prevent"])},{default:O(()=>[$("Go")]),_:1},8,["onClick"])])])],64))}});const Je=D(We,[["__scopeId","data-v-170874e7"]]),Xe={class:"grid"},Ye=["id"],Ze={class:"grid"},Me=["id"],et={class:"kanji"},tt=T({__name:"Results",props:{type:{type:null}},setup(e){const t=e,l=E();_(()=>l.getQuestions(t.type));const n=_(()=>l.getAnsweredCorrectly(t.type)),r=_(()=>l.getAnsweredIncorrectly(t.type)),i=_(()=>l.getUnanswered(t.type));return(p,v)=>{const f=Q("b-popover");return a(!0),c(b,null,V([{type:"Correct",answers:n.value},{type:"Incorrect",answers:r.value},{type:"Unanswered",answers:i.value}],h=>(a(),c(b,{key:h.type+"_header"},[s("div",Xe,[s("div",{class:"col",id:h.type.toLowerCase()},[s("span",null,d(h.type),1)],8,Ye)]),s("div",Ze,[(a(!0),c(b,null,V(h.answers,m=>(a(),c(b,{key:m.id},[s("div",{class:"col question",id:m.id},[s("span",et,d(m.kanji),1)],8,Me),g(f,{target:m.id,triggers:"hover",placement:"top"},{title:O(()=>[$(d(m.path),1)]),default:O(()=>[s("span",null,d(m.kana),1)]),_:2},1032,["target"])],64))),128))])],64))),128)}}});const nt=D(tt,[["__scopeId","data-v-65cb53a7"]]),st={key:0,class:"grid"},lt={class:"col"},ot=s("span",null,"Answered: ",-1),at={class:"grid"},rt={class:"col"},ut=s("span",{class:"error"},"No questions returned for criteria",-1),it=s("br",null,null,-1),vt=T({__name:"TestView",setup(e){const t=E(),l=se(),n=S([]),r=S(null),i=S(0),p=S(-1),v=S(!1),f=_(()=>l.params.type);function h(){p.value=0,n.value=t.getQuestions(f.value),i.value=n.value.length,r.value=w()}function m(y=I.Incorrect){y==I.Correct&&(p.value=p.value+1,n.value=n.value.filter(u=>u!=r.value)),r.value=w()}function w(){return n.value.filter(y=>y.answered!=I.Correct)[oe.random(0,n.value.length-1)]}return(y,u)=>(a(),c(b,null,[r.value!=null?(a(),c("div",st,[s("div",lt,[ot,s("span",null,d(p.value)+" / "+d(n.value.length),1)])])):U("",!0),s("div",at,[s("div",rt,[p.value==0&&n.value.length==0?(a(),c(b,{key:0},[ut,it,g(k(q),{onClick:u[0]||(u[0]=A(o=>p.value=-1,["prevent"]))},{default:O(()=>[$("Retry")]),_:1})],64)):U("",!0),p.value==-1?(a(),P(Je,{key:1,onOptionsSet:h,type:f.value},null,8,["type"])):p.value>-1&&n.value.length==0||v.value?(a(),P(nt,{key:2,type:f.value},null,8,["type"])):(a(),P(ke,{key:3,onNext:m,question:r.value,type:f.value,onEarlyFinish:u[1]||(u[1]=()=>{v.value=!0})},null,8,["question","type"]))])])],64))}});export{vt as default};
