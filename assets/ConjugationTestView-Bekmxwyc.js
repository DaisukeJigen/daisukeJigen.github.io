import{d as B,x as M,o as C,i as l,c as d,a as o,v as T,u as e,X as D,r as S,Y as F,C as p,b as G,F as _,z as k,m as w,y as z,s as R,q as V,_ as L,A as H,G as K,j as b,e as j,f as U,k as A,Z as O,D as P,E as X,B as Y,$ as N,a0 as Q,a1 as Z,a2 as ee,a3 as te,a4 as se,l as oe,t as le,n as ae,a5 as ne,I as ie}from"./index-mQKd4F6d.js";import{c as E}from"./conjugate-i1AHIhxI.js";import{s as y}from"./index-HggrTkNU.js";const ue={class:"container"},ce={class:"row"},de={class:"col"},re={class:"row"},me={class:"col"},ve=B({__name:"Info",props:{word:{type:null,default:null}},setup(c){const t=M();return C(()=>{}),(s,f)=>(l(),d("div",ue,[o("div",ce,[o("div",de,[o("span",null,T(c.word[e(t).uglyJmdict.kanji][0][e(t).uglyJmdict.text])+" ("+T(c.word[e(t).uglyJmdict.kana][0][e(t).uglyJmdict.text])+")",1)])]),o("div",re,[o("div",me,[o("span",null,T(c.word[e(t).uglyJmdict.sense][0][e(t).uglyJmdict.gloss].map(a=>a[e(t).uglyJmdict.text]).join("; ")),1)])])]))}}),pe={class:"container"},fe={class:"row"},he={class:"col"},Te={class:"col"},_e={key:1,class:"answer"},ge=B({__name:"TestItem",props:{form:{type:String,default:""},conjugation:{type:null,default:null}},setup(c,{expose:t}){const s=D();M();const f=c,a=S({}),v=S({});t({checkAnswers:()=>{p.keys(f.conjugation).forEach(r=>{p.keys(f.conjugation[r]).forEach(i=>{v.value[r][i]=f.conjugation[r][i].kanji==a.value[r][i]||f.conjugation[r][i].kana==a.value[r][i]})})},reset:n}),F(()=>{n()});function n(){p.keys(f.conjugation).forEach(r=>{a.value[r]={},v.value[r]={},p.keys(f.conjugation[r]).forEach(i=>{a.value[r][i]="",v.value[r][i]=null})})}return C(()=>{document.querySelectorAll(".p-inputtext").forEach(r=>{G(r)})}),(r,i)=>(l(),d("div",pe,[o("div",fe,[o("div",he,[o("span",null,T(c.form),1)]),(l(!0),d(_,null,k(e(p.keys)(c.conjugation[e(p.keys)(c.conjugation)[0]]),u=>(l(),d("div",{class:"col",key:u},[o("span",null,T(u),1)]))),128))]),(l(!0),d(_,null,k(e(p.keys)(c.conjugation),u=>(l(),d("div",{key:u,class:"row"},[o("div",Te,[o("span",null,T(u),1)]),(l(!0),d(_,null,k(e(p.keys)(c.conjugation[u]),m=>(l(),d("div",{class:"col",key:m},[e(s).formsToTest[f.form][u][m]==!0?(l(),w(e(R),{key:0,class:z(v.value[u][m]==!0?"correct":v.value[u][m]==!1?"incorrect":""),modelValue:a.value[u][m],"onUpdate:modelValue":g=>a.value[u][m]=g},null,8,["class","modelValue","onUpdate:modelValue"])):V("",!0),e(s).showEverything||v.value[u][m]!=null?(l(),d("span",_e,T(c.conjugation[u][m].kanji)+" ("+T(c.conjugation[u][m].kana)+")",1)):V("",!0)]))),128))]))),128))]))}}),be=L(ge,[["__scopeId","data-v-9794514a"]]),x=c=>(P("data-v-ca605640"),c=c(),X(),c),ke={class:"container"},ye=O('<div class="row" data-v-ca605640><div class="col-6" data-v-ca605640><span class="header" data-v-ca605640>Conjugations</span></div><div class="col-3" data-v-ca605640><span class="header" data-v-ca605640>Vocab Type</span></div><div class="col-3" data-v-ca605640><span class="header" data-v-ca605640>List</span></div></div>',1),je={class:"row"},Ve={key:1},we={key:1},Je={class:"col"},xe=x(()=>o("span",null,"Verbs",-1)),$e=x(()=>o("span",null,"Na Adjectives",-1)),Ie=x(()=>o("span",null,"I Adjectives",-1)),Se=x(()=>o("br",null,null,-1)),Ue=x(()=>o("br",null,null,-1)),Be=x(()=>o("span",{class:"header"},"Misc",-1)),Ce=x(()=>o("br",null,null,-1)),Ee={class:"col"},Ae={key:0},Me={class:"row"},De={class:"col"},Ne=B({__name:"Setup",emits:["go"],setup(c,{emit:t}){const s=D();C(()=>{});const f=v=>typeof v=="boolean",a=H(()=>[p.keys(s.formsToTest).slice(0,8),p.keys(s.formsToTest).slice(8)]);return K(()=>s.listsToTest.JMDict,(v,h)=>{v&&p.keys(s.listsToTest).filter(n=>n!="JMDict").forEach(n=>{p.keys(s.listsToTest[n]).forEach(r=>{s.listsToTest[n][r]=!1})})},{deep:!0}),(v,h)=>(l(),d("div",ke,[ye,o("div",je,[(l(!0),d(_,null,k(a.value,(n,r)=>(l(),d("div",{class:"col",key:r},[o("ul",null,[(l(!0),d(_,null,k(n,i=>(l(),d("li",{key:i},[f(e(s).formsToTest[i])?(l(),w(e(y),{key:0,binary:!0,modelValue:e(s).formsToTest[i],"onUpdate:modelValue":u=>e(s).formsToTest[i]=u},null,8,["modelValue","onUpdate:modelValue"])):V("",!0),b(" "+T(i)+" ",1),f(e(s).formsToTest[i])?V("",!0):(l(),d("ul",Ve,[(l(!0),d(_,null,k(e(p.keys)(e(s).formsToTest[i]),u=>(l(),d("li",{key:u},[f(e(s).formsToTest[i][u])?(l(),w(e(y),{key:0,binary:!0,modelValue:e(s).formsToTest[i][u],"onUpdate:modelValue":m=>e(s).formsToTest[i][u]=m},null,8,["modelValue","onUpdate:modelValue"])):V("",!0),b(" "+T(u)+" ",1),f(e(s).formsToTest[i][u])?V("",!0):(l(),d("ul",we,[(l(!0),d(_,null,k(e(p.keys)(e(s).formsToTest[i][u]),m=>(l(),d("li",{key:m},[f(e(s).formsToTest[i][u][m])?(l(),w(e(y),{key:0,binary:!0,modelValue:e(s).formsToTest[i][u][m],"onUpdate:modelValue":g=>e(s).formsToTest[i][u][m]=g},null,8,["modelValue","onUpdate:modelValue"])):V("",!0),b(" "+T(m),1)]))),128))]))]))),128))]))]))),128))])]))),128)),o("div",Je,[o("ul",null,[o("li",null,[j(e(y),{binary:"",modelValue:e(s).typesToTest.verbs,"onUpdate:modelValue":h[0]||(h[0]=n=>e(s).typesToTest.verbs=n)},null,8,["modelValue"]),xe]),o("li",null,[j(e(y),{binary:"",modelValue:e(s).typesToTest.naAdjectives,"onUpdate:modelValue":h[1]||(h[1]=n=>e(s).typesToTest.naAdjectives=n)},null,8,["modelValue"]),$e]),o("li",null,[j(e(y),{binary:"",modelValue:e(s).typesToTest.iAdjectives,"onUpdate:modelValue":h[2]||(h[2]=n=>e(s).typesToTest.iAdjectives=n)},null,8,["modelValue"]),Ie])]),Se,Ue,Be,Ce,o("ul",null,[o("li",null,[j(e(y),{binary:"",modelValue:e(s).showEverything,"onUpdate:modelValue":h[3]||(h[3]=n=>e(s).showEverything=n)},null,8,["modelValue"]),b("Show conjugations not being tested ")])])]),o("div",Ee,[o("ul",null,[o("li",null,[j(e(y),{binary:"",modelValue:e(s).listsToTest.JMDict,"onUpdate:modelValue":h[4]||(h[4]=n=>e(s).listsToTest.JMDict=n)},null,8,["modelValue"]),b("The entire JMDict file ")]),(l(!0),d(_,null,k(e(p.keys)(e(s).listsToTest).filter(n=>n!="JMDict"),(n,r)=>(l(),d("li",{key:r},[b(T(n)+" ",1),f(e(s).formsToTest[n])?V("",!0):(l(),d("ul",Ae,[(l(!0),d(_,null,k(e(p.keys)(e(s).listsToTest[n]),(i,u)=>(l(),d("li",{key:u},[j(e(y),{binary:!0,modelValue:e(s).listsToTest[n][i],"onUpdate:modelValue":m=>e(s).listsToTest[n][i]=m,disabled:e(s).listsToTest.JMDict},null,8,["modelValue","onUpdate:modelValue","disabled"]),b(T(i),1)]))),128))]))]))),128))])])]),o("div",Me,[o("div",De,[j(e(A),{onClick:h[5]||(h[5]=n=>v.$emit("go"))},{default:U(()=>[b("Start")]),_:1})])])]))}}),Ze=L(Ne,[["__scopeId","data-v-ca605640"]]);var ze=function(t){var s=t.dt;return`
.p-blockui {
    position: relative;
}

.p-blockui-mask {
    border-radius: `.concat(s("blockui.border.radius"),`;
}

.p-blockui-mask.p-overlay-mask {
    position: absolute;
}

.p-blockui-mask-document.p-overlay-mask {
    position: fixed;
}
`)},Le={root:"p-blockui"},We=Y.extend({name:"blockui",theme:ze,classes:Le}),qe={name:"BaseBlockUI",extends:oe,props:{blocked:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0}},style:We,provide:function(){return{$pcBlockUI:this,$parentInstance:this}}},W={name:"BlockUI",extends:qe,inheritAttrs:!1,emits:["block","unblock"],mask:null,data:function(){return{isBlocked:!1}},watch:{blocked:function(t){t===!0?this.block():this.unblock()}},mounted:function(){this.blocked&&this.block()},methods:{block:function(){var t="p-blockui-mask p-overlay-mask p-overlay-mask-enter";this.fullScreen?(t+=" p-blockui-mask-document",this.mask=N("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%"},class:!this.isUnstyled&&t,"p-bind":this.ptm("mask")}),document.body.appendChild(this.mask),Q(),document.activeElement.blur()):(this.mask=N("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},class:!this.isUnstyled&&t,"p-bind":this.ptm("mask")}),this.$refs.container.appendChild(this.mask)),this.autoZIndex&&Z.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal),this.isBlocked=!0,this.$emit("block")},unblock:function(){var t=this;!this.isUnstyled&&ee(this.mask,"p-overlay-mask-leave"),te(this.mask)>0?this.mask.addEventListener("animationend",function(){t.removeMask()}):this.removeMask()},removeMask:function(){if(Z.clear(this.mask),this.fullScreen)document.body.removeChild(this.mask),se();else{var t;(t=this.$refs.container)===null||t===void 0||t.removeChild(this.mask)}this.isBlocked=!1,this.$emit("unblock")}}},Fe=["aria-busy"];function Ge(c,t,s,f,a,v){return l(),d("div",ae({ref:"container",class:c.cx("root"),"aria-busy":a.isBlocked},c.ptmi("root")),[le(c.$slots,"default")],16,Fe)}W.render=Ge;const Re={class:"container"},He=o("div",{class:"row"},[o("div",{class:"col"},"Conjugation Test")],-1),Ke={class:"row"},Oe={class:"col"},Pe=["id"],Xe={class:"col"},Ye={class:"row"},st=B({__name:"ConjugationTestView",setup(c){const t=M(),s=D();C(()=>{}),ne(()=>{});const f=ie("notify"),a=S(null),v=S(null),h=()=>{if(a.value=t.getRandomItemToConjugate(),a.value==null)return f.error("No item found to test"),null;t.isWordVerb(parseInt(a.value.id))?v.value=E.verb({verb:a.value[t.uglyJmdict.kanji].length>0?a.value[t.uglyJmdict.kanji][0][t.uglyJmdict.text]:a.value[t.uglyJmdict.kana][0][t.uglyJmdict.text],reading:a.value[t.uglyJmdict.kana][0][t.uglyJmdict.text]}):t.isWordNaAdjective(parseInt(a.value.id))?v.value=E.na_adjective({word:a.value[t.uglyJmdict.kanji].length>0?a.value[t.uglyJmdict.kanji][0][t.uglyJmdict.text]:a.value[t.uglyJmdict.kana][0][t.uglyJmdict.text],reading:a.value[t.uglyJmdict.kana][0][t.uglyJmdict.text]}):t.isWordIAdjective(parseInt(a.value.id))&&(v.value=E.i_adjective({word:a.value[t.uglyJmdict.kanji].length>0?a.value[t.uglyJmdict.kanji][0][t.uglyJmdict.text]:a.value[t.uglyJmdict.kana][0][t.uglyJmdict.text],reading:a.value[t.uglyJmdict.kana][0][t.uglyJmdict.text]})),r.value=!1},n=S([]),r=S(!1),i=()=>{n.value.forEach(g=>{g.checkAnswers()}),r.value=!0},u=()=>{n.value.forEach(g=>{g.reset()}),h()},m=g=>{let $=!1;return p.values(g).forEach(J=>{typeof J=="boolean"?$=J||$:typeof J=="object"&&p.values(J).forEach(q=>{$=q||$})}),$};return(g,$)=>(l(),w(e(W),{blocked:e(t).loading},{default:U(()=>[o("div",Re,[He,a.value==null?(l(),w(Ze,{key:0,onGo:h})):(l(),d(_,{key:1},[o("div",Ke,[o("div",Oe,[j(ve,{word:a.value},null,8,["word"])])]),(l(!0),d(_,null,k(e(p.keys)(v.value).filter(I=>I.indexOf("stem")==-1),(I,J)=>(l(),d(_,{key:J},[m(e(s).formsToTest[I])||e(s).showEverything?(l(),d("div",{key:0,id:"row"+J,class:z(["row","mainConjRow"])},[o("div",Xe,[j(be,{form:I,conjugation:v.value[I],ref_for:!0,ref_key:"testItems",ref:n},null,8,["form","conjugation"])])],8,Pe)):V("",!0)],64))),128)),o("div",Ye,[r.value?(l(),w(e(A),{key:1,onClick:u},{default:U(()=>[b("next")]),_:1})):(l(),w(e(A),{key:0,onClick:i},{default:U(()=>[b("Submit")]),_:1}))])],64))])]),_:1},8,["blocked"]))}});export{st as default};
//# sourceMappingURL=ConjugationTestView-Bekmxwyc.js.map
